(this["webpackJsonpfinancas-app"]=this["webpackJsonpfinancas-app"]||[]).push([[0],{32:function(e,a,t){e.exports=t(66)},61:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(29),c=t.n(o),i=t(1),s=t(2),l=t(4),u=t(5),m=t(11),p=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card mb-3"},r.a.createElement("h3",{className:"card-header"},this.props.title),r.a.createElement("div",{className:"card-body"},this.props.children))}}]),t}(r.a.Component);var h=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.htmlFor},e.label),e.children)},d=t(3),v=t(30),b=t.n(v).a.create({baseURL:"http://localhost:8080"});var f=function(e){this.mensagens=e},E=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){return Object(i.a)(this,t),a.call(this,"/usuarios")}return Object(s.a)(t,[{key:"autenticar",value:function(e){return this.post("/autenticar",e)}},{key:"obterSaldoPorIdUsuario",value:function(e){return this.get("/saldo/".concat(e))}},{key:"salvar",value:function(e){return this.post("/",e)}},{key:"validar",value:function(e){var a=[];if(e.nome||a.push("O campo nome \xe9 obrigat\xf3rio"),e.email?e.email.match(/^[a-z0-9.]+@[a-z0-9]+\.[a-z]/)||a.push("O email informado n\xe3o \xe9 v\xe1lido"):a.push("O campo email \xe9 obrigat\xf3rio"),e.senha&&e.senhaRepeticao?e.senha!==e.senhaRepeticao&&a.push("As senhas n\xe3o conferem"):a.push("Os campos de senha s\xe3o obrigat\xf3rios"),a&&a.length>0)throw new f(a)}}]),t}(function(){function e(a){Object(i.a)(this,e),this.apiurl=a}return Object(s.a)(e,[{key:"post",value:function(e,a){var t="".concat(this.apiurl).concat(e);return b.post(t,a)}},{key:"put",value:function(e,a){var t="".concat(this.apiurl).concat(e);return b.put(t,a)}},{key:"delete",value:function(e){var a="".concat(this.apiurl).concat(e);return b.delete(a)}},{key:"get",value:function(e){var a="".concat(this.apiurl).concat(e);return b.get(a)}}]),e}()),g=t(13),O=t.n(g);function y(e,a,t){O.a[t](a,e)}function N(e){y("Erro",e,"error")}O.a.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var j=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).state={nome:"",email:"",senha:"",senhaRepeticao:""},e.cadastrar=function(){var a=e.state,t={nome:a.nome,email:a.email,senha:a.senha,senhaRepeticao:a.senhaRepeticao};try{e.service.validar(t)}catch(n){return n.mensagens.forEach((function(e){N(e)})),!1}e.service.salvar(t).then((function(a){y("Sucesso","Usu\xe1rio cadastrado com sucesso! fa\xe7a o login para acessar o sistema.","success"),e.props.history.push("/login")})).catch((function(e){N(e.response.data)}))},e.cancelar=function(){e.props.history.push("/login")},e.service=new E,e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p,{title:"Cadastro de Usu\xe1rios"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"bs-component"},r.a.createElement(h,{label:"Nome: *",htmlFor:"inputNome"},r.a.createElement("input",{type:"text",value:this.state.nome,onChange:function(a){return e.setState({nome:a.target.value})},className:"form-control",id:"inputNome","aria-describedby":"nameHelp",placeholder:"Informe seu nome"})),r.a.createElement(h,{label:"Email: *",htmlFor:"inputEmail"},r.a.createElement("input",{type:"email",value:this.state.email,onChange:function(a){return e.setState({email:a.target.value})},className:"form-control",id:"inputEmail","aria-describedby":"emailHelp",placeholder:"Digite o Email"})),r.a.createElement(h,{label:"Senha: *",htmlFor:"inputSenha"},r.a.createElement("input",{type:"password",value:this.state.senha,onChange:function(a){return e.setState({senha:a.target.value})},className:"form-control",id:"inputSenha",placeholder:"password"})),r.a.createElement(h,{label:"Repita a Senha: *",htmlFor:"inputRepitaSenha"},r.a.createElement("input",{type:"password",value:this.state.senhaRepeticao,onChange:function(a){return e.setState({senhaRepeticao:a.target.value})},className:"form-control",id:"inputRepitaSenha",placeholder:"password"})),r.a.createElement("button",{onClick:this.cadastrar,className:"btn btn-success"},r.a.createElement("i",{className:"pi pi-save"})," Salvar"),r.a.createElement("button",{onClick:this.cancelar,className:"btn btn-danger"},r.a.createElement("i",{className:"pi pi-times"})," cancelar")))))}}]),t}(r.a.Component),S=Object(d.g)(j),k=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"adicionarItem",value:function(e,a){localStorage.setItem(e,JSON.stringify(a))}},{key:"obterItem",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}}]),e}(),A=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"isUsuarioAutenticado",value:function(){var e=k.obterItem("_usuario_logado");return e&&e.id}},{key:"removerUsuarioAutenticado",value:function(){k.removeItem("_usuario_logado")}},{key:"logar",value:function(e){return k.adicionarItem("_usuario_logado",e)}},{key:"ObterUsuarioAutenticado",value:function(){return k.obterItem("_usuario_logado")}}]),e}(),C=r.a.createContext(),w=C.Consumer,U=C.Provider,I=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={usuarioAutenticado:null,isAutenticado:!1},e.iniciarSessao=function(a){A.logar(a),e.setState({isAutenticado:!0,usuarioAutenticado:a})},e.encerrarSessao=function(){A.removerUsuarioAutenticado(),e.setState({isAutenticado:!1,usuarioAutenticado:null}),console.log(e.state)},e}return Object(s.a)(t,[{key:"render",value:function(){var e={usuarioAutenticado:this.state.usuarioAutenticado,isAutenticado:this.state.isAutenticado,iniciarSessao:this.iniciarSessao,encerrarSessao:this.encerrarSessao};return r.a.createElement(U,{value:e},this.props.children)}}]),t}(r.a.Component),x=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).state={emailOuLogin:"",senha:""},e.entrar=function(){e.service.autenticar({emailOuLogin:e.state.emailOuLogin,senha:e.state.senha}).then((function(a){e.context.iniciarSessao(a.data),e.props.history.push("/home")})).catch((function(e){N(e.response.data),console.log(e)}))},e.prepareCadastrar=function(){e.props.history.push("/cadastro-usuarios")},e.service=new E,e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6",style:{position:"relative",left:"300px"}},r.a.createElement("div",{className:"bs-docs-section"},r.a.createElement(p,{title:"Login"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"bs-component"},r.a.createElement("fieldset",null,r.a.createElement(h,{label:"Email: *",htmlFor:"exampleInputEmail"},r.a.createElement("input",{type:"email",value:this.state.emailOuLogin,onChange:function(a){return e.setState({emailOuLogin:a.target.value})},className:"form-control",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Digite o Email"})),r.a.createElement(h,{label:"Senha: *",htmlFor:"exampleInputSenha"},r.a.createElement("input",{type:"password",value:this.state.senha,onChange:function(a){return e.setState({senha:a.target.value})},className:"form-control",id:"exampleInputSenha",placeholder:"password"})),r.a.createElement("button",{onClick:this.entrar,className:"btn btn-success"},r.a.createElement("i",{className:"pi pi-sign-in"})," Entrar"),r.a.createElement("button",{onClick:this.prepareCadastrar,className:"btn btn-primary"},r.a.createElement("i",{className:"pi pi-user-plus"})," Cadastra-se")))))))))}}]),t}(r.a.Component);x.contextType=C;var R=Object(d.g)(x),_=t(10),D=function(e){var a=function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-success",title:"Efetivar",type:"button"},r.a.createElement("i",{className:"pi pi-check"}))))};return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Data"),r.a.createElement("th",{scope:"col"},"descricao"),r.a.createElement("th",{scope:"col"},"Tipo"),r.a.createElement("th",{scope:"col"},"Autor"),r.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),r.a.createElement("tbody",null,a))},F=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).state={saldo:0},e.usuarioService=new E,e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=k.obterItem("_usuario_logado");this.usuarioService.obterSaldoPorIdUsuario(a.id).then((function(a){e.setState({saldo:a.data})})).catch((function(e){console.error(e.response)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-3 text-center"},"Bem vindo!"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,r.a.createElement("h2",{className:"text-center"},"\xdaltimas atualiza\xe7\xf5es")),r.a.createElement(D,null))}}]),t}(r.a.Component);F.contextType=C;var L=F,T=function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).state={saldo:0},e.usuarioService=new E,e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=k.obterItem("_usuario_logado");this.usuarioService.obterSaldoPorIdUsuario(a.id).then((function(a){e.setState({saldo:a.data})})).catch((function(e){console.error(e.response)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-3 text-center"},"Bem vindo!"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,r.a.createElement("h2",{className:"text-center"},"\xdaltimas atualiza\xe7\xf5es")),r.a.createElement(D,null))}}]),t}(r.a.Component);T.contextType=C;var z=T;function B(e){var a=e.component,t=e.isUsuarioAutenticado,n=Object(m.a)(e,["component","isUsuarioAutenticado"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function J(e){return r.a.createElement(_.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",component:R}),r.a.createElement(d.b,{path:"/cadastro-usuarios",component:S}),r.a.createElement(B,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/home",component:L}),r.a.createElement(B,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/repertorios",component:z})))}var M=function(){return r.a.createElement(w,null,(function(e){return r.a.createElement(J,{isUsuarioAutenticado:e.isAutenticado})}))};var P=function(e){var a=e.render,t=Object(m.a)(e,["render"]);return!!a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:t.href,onClick:t.onClick},t.label))};function H(e){return r.a.createElement("div",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"#/home",className:"navbar-brand"},"Louvor Sheknah"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(P,{render:e.isUsuarioAutenticado,href:"#/home",label:"home"}),r.a.createElement(P,{render:e.isUsuarioAutenticado,href:"#/cadastro-usuarios",label:"Usu\xe1rios"}),r.a.createElement(P,{render:e.isUsuarioAutenticado,href:"#/repertorios",label:"Repert\xf3rio"}),r.a.createElement(P,{render:e.isUsuarioAutenticado,onClick:e.deslogar,href:"#/login",label:"Sair"})))))}var q=function(){return r.a.createElement(w,null,(function(e){return r.a.createElement(H,{isUsuarioAutenticado:e.isAutenticado,deslogar:e.encerrarSessao})}))},G=(t(59),t(60),t(61),t(62),t(63),t(64),t(65),function(e){Object(u.a)(t,e);var a=Object(l.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(I,null,r.a.createElement(q,null),r.a.createElement("div",{className:"container"},r.a.createElement(M,null)))}}]),t}(r.a.Component));c.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b87fdb0d.chunk.js.map